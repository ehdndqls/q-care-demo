<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-translate="pageTitle">Medical Records & Prescription</title>
  <link rel="stylesheet" href="/css/prescription.css">
</head>
<body>
<!-- Header -->
<header class="header">
  <div class="header-content">
    <button class="back-btn" onclick="history.back()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div class="logo">
      <svg width="32" height="32" viewBox="0 0 100 100">
        <path d="M50 10 C30 10, 15 25, 15 45 C15 65, 30 80, 50 80 C70 80, 85 65, 85 45 C85 25, 70 10, 50 10 Z" fill="#10b981"/>
        <text x="50" y="55" text-anchor="middle" fill="white" font-size="24" font-weight="bold">Q</text>
      </svg>
      <span>Q-care</span>
    </div>
    <div class="language-selector">
      <select id="languageSelect" onchange="changeLanguage(this.value)">
        <option value="ENGLISH">English</option>
        <option value="KOREAN">í•œêµ­ì–´</option>
        <option value="JAPANESE">æ—¥æœ¬èªž</option>
        <option value="CHINESE">ä¸­æ–‡</option>
      </select>
    </div>
  </div>
</header>

<!-- Main Content -->
<main class="main-content">
  <div class="page-header">
    <h1 data-translate="medicalRecords">Medical Records & Prescription</h1>
    <p data-translate="recordsSubtitle">Complete medical history and current prescriptions</p>
  </div>

  <!-- Patient Info Card -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="patientInfo">Patient Information</h2>
    </div>
    <div class="patient-details">
      <div class="detail-row">
        <span class="label" data-translate="patientName">Patient Name:</span>
        <span class="value">John Smith</span>
      </div>
      <div class="detail-row">
        <span class="label" data-translate="patientId">Patient ID:</span>
        <span class="value">P-2024-001</span>
      </div>
      <div class="detail-row">
        <span class="label" data-translate="birthDate">Birth Date:</span>
        <span class="value">1990-05-15</span>
      </div>
      <div class="detail-row">
        <span class="label" data-translate="nationality">Nationality:</span>
        <span class="value">United States</span>
      </div>
    </div>
  </div>

  <!-- Latest Visit -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="latestVisit">Latest Visit</h2>
      <span class="visit-date">2024-01-15</span>
    </div>
    <div class="visit-details">
      <div class="detail-row">
        <span class="label" data-translate="hospital">Hospital:</span>
        <span class="value">Seoul National University Hospital</span>
      </div>
      <div class="detail-row">
        <span class="label" data-translate="department">Department:</span>
        <span class="value" data-translate="internalMedicine">Internal Medicine</span>
      </div>
      <div class="detail-row">
        <span class="label" data-translate="doctor">Doctor:</span>
        <span class="value">Dr. Kim Min-jun</span>
      </div>
    </div>
  </div>

  <!-- Diagnosis -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="diagnosis">Diagnosis</h2>
      <span class="severity-badge moderate" data-translate="moderate">Moderate</span>
    </div>
    <div class="diagnosis-content">
      <h3 data-translate="primaryDiagnosis">Primary Diagnosis</h3>
      <p class="diagnosis-name" data-translate="acuteGastritis">Acute Gastritis (K29.0)</p>

      <h4 data-translate="symptoms">Symptoms</h4>
      <ul class="symptoms-list">
        <li data-translate="stomachPain">Stomach pain and discomfort</li>
        <li data-translate="nausea">Nausea and vomiting</li>
        <li data-translate="bloating">Abdominal bloating</li>
        <li data-translate="lossOfAppetite">Loss of appetite</li>
      </ul>
    </div>
  </div>

  <!-- Current Prescriptions -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="currentPrescriptions">Current Prescriptions</h2>
      <span class="prescription-count">3 <span data-translate="medications">medications</span></span>
    </div>
    <div class="prescriptions-list">
      <div class="prescription-item">
        <div class="medication-icon">ðŸ’Š</div>
        <div class="medication-details">
          <h4>Omeprazole 20mg</h4>
          <p class="dosage" data-translate="omeprazoleDosage">Take 1 tablet daily before breakfast</p>
          <p class="duration" data-translate="duration14Days">Duration: 14 days</p>
        </div>
      </div>
      <div class="prescription-item">
        <div class="medication-icon">ðŸ§ª</div>
        <div class="medication-details">
          <h4>Domperidone 10mg</h4>
          <p class="dosage" data-translate="domperidoneDosage">Take 1 tablet 3 times daily before meals</p>
          <p class="duration" data-translate="duration7Days">Duration: 7 days</p>
        </div>
      </div>
      <div class="prescription-item">
        <div class="medication-icon">ðŸŒ¿</div>
        <div class="medication-details">
          <h4>Probiotics</h4>
          <p class="dosage" data-translate="probioticsDosage">Take 1 capsule twice daily after meals</p>
          <p class="duration" data-translate="duration30Days">Duration: 30 days</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Doctor's Notes -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="doctorNotes">Doctor's Notes</h2>
    </div>
    <div class="notes-content">
      <p data-translate="doctorNotesContent">Patient shows improvement in gastric symptoms. Continue current medication regimen. Recommend dietary modifications: avoid spicy foods, alcohol, and NSAIDs. Follow up in 2 weeks if symptoms persist.</p>
    </div>
  </div>

  <!-- Next Appointment -->
  <div class="info-card">
    <div class="card-header">
      <h2 data-translate="nextAppointment">Next Appointment</h2>
    </div>
    <div class="appointment-details">
      <div class="appointment-date">
        <span class="date">2024-01-29</span>
        <span class="time">10:00 AM</span>
      </div>
      <div class="appointment-info">
        <p><strong data-translate="followUpVisit">Follow-up Visit</strong></p>
        <p data-translate="appointmentLocation">Seoul National University Hospital - Internal Medicine</p>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button class="btn btn-secondary" data-translate="downloadPdf">Download PDF</button>
    <button class="btn btn-primary" data-translate="shareRecord">Share Record</button>
  </div>
</main>

<script>
  // Translation object
  const translations = {
    ENGLISH: {
      pageTitle: "Medical Records & Prescription",
      medicalRecords: "Medical Records & Prescription",
      recordsSubtitle: "Complete medical history and current prescriptions",
      patientInfo: "Patient Information",
      patientName: "Patient Name:",
      patientId: "Patient ID:",
      birthDate: "Birth Date:",
      nationality: "Nationality:",
      latestVisit: "Latest Visit",
      hospital: "Hospital:",
      department: "Department:",
      doctor: "Doctor:",
      internalMedicine: "Internal Medicine",
      diagnosis: "Diagnosis",
      moderate: "Moderate",
      primaryDiagnosis: "Primary Diagnosis",
      acuteGastritis: "Acute Gastritis (K29.0)",
      symptoms: "Symptoms",
      stomachPain: "Stomach pain and discomfort",
      nausea: "Nausea and vomiting",
      bloating: "Abdominal bloating",
      lossOfAppetite: "Loss of appetite",
      currentPrescriptions: "Current Prescriptions",
      medications: "medications",
      omeprazoleDosage: "Take 1 tablet daily before breakfast",
      duration14Days: "Duration: 14 days",
      domperidoneDosage: "Take 1 tablet 3 times daily before meals",
      duration7Days: "Duration: 7 days",
      probioticsDosage: "Take 1 capsule twice daily after meals",
      duration30Days: "Duration: 30 days",
      doctorNotes: "Doctor's Notes",
      doctorNotesContent: "Patient shows improvement in gastric symptoms. Continue current medication regimen. Recommend dietary modifications: avoid spicy foods, alcohol, and NSAIDs. Follow up in 2 weeks if symptoms persist.",
      nextAppointment: "Next Appointment",
      followUpVisit: "Follow-up Visit",
      appointmentLocation: "Seoul National University Hospital - Internal Medicine",
      downloadPdf: "Download PDF",
      shareRecord: "Share Record"
    },
    KOREAN: {
      pageTitle: "ì§„ë£Œê¸°ë¡ ë° ì²˜ë°©ì „",
      medicalRecords: "ì§„ë£Œê¸°ë¡ ë° ì²˜ë°©ì „",
      recordsSubtitle: "ì™„ì „í•œ ì˜ë£Œ ê¸°ë¡ ë° í˜„ìž¬ ì²˜ë°©ì „",
      patientInfo: "í™˜ìž ì •ë³´",
      patientName: "í™˜ìžëª…:",
      patientId: "í™˜ìžë²ˆí˜¸:",
      birthDate: "ìƒë…„ì›”ì¼:",
      nationality: "êµ­ì :",
      latestVisit: "ìµœê·¼ ì§„ë£Œ",
      hospital: "ë³‘ì›:",
      department: "ì§„ë£Œê³¼:",
      doctor: "ë‹´ë‹¹ì˜:",
      internalMedicine: "ë‚´ê³¼",
      diagnosis: "ì§„ë‹¨",
      moderate: "ë³´í†µ",
      primaryDiagnosis: "ì£¼ ì§„ë‹¨",
      acuteGastritis: "ê¸‰ì„± ìœ„ì—¼ (K29.0)",
      symptoms: "ì¦ìƒ",
      stomachPain: "ìœ„ í†µì¦ ë° ë¶ˆíŽ¸ê°",
      nausea: "ë©”ìŠ¤êº¼ì›€ ë° êµ¬í† ",
      bloating: "ë³µë¶€ íŒ½ë§Œê°",
      lossOfAppetite: "ì‹ìš• ë¶€ì§„",
      currentPrescriptions: "í˜„ìž¬ ì²˜ë°©ì•½",
      medications: "ì•½ë¬¼",
      omeprazoleDosage: "ì•„ì¹¨ ì‹ì‚¬ ì „ 1ì¼ 1ì • ë³µìš©",
      duration14Days: "ë³µìš©ê¸°ê°„: 14ì¼",
      domperidoneDosage: "ì‹ì‚¬ ì „ 1ì¼ 3íšŒ 1ì •ì”© ë³µìš©",
      duration7Days: "ë³µìš©ê¸°ê°„: 7ì¼",
      probioticsDosage: "ì‹ì‚¬ í›„ 1ì¼ 2íšŒ 1ìº¡ìŠì”© ë³µìš©",
      duration30Days: "ë³µìš©ê¸°ê°„: 30ì¼",
      doctorNotes: "ì˜ì‚¬ ì†Œê²¬",
      doctorNotesContent: "í™˜ìžì˜ ìœ„ìž¥ ì¦ìƒì´ í˜¸ì „ë˜ê³  ìžˆìŠµë‹ˆë‹¤. í˜„ìž¬ ì•½ë¬¼ ì¹˜ë£Œë¥¼ ì§€ì†í•˜ì„¸ìš”. ì‹ì´ ì¡°ì ˆ ê¶Œìž¥: ë§¤ìš´ ìŒì‹, ì•Œì½”ì˜¬, ì†Œì—¼ì§„í†µì œ í”¼í•˜ê¸°. ì¦ìƒì´ ì§€ì†ë˜ë©´ 2ì£¼ í›„ ìž¬ì§„ë£Œ ë°›ìœ¼ì„¸ìš”.",
      nextAppointment: "ë‹¤ìŒ ì˜ˆì•½",
      followUpVisit: "ì¶”ì  ì§„ë£Œ",
      appointmentLocation: "ì„œìš¸ëŒ€í•™êµë³‘ì› - ë‚´ê³¼",
      downloadPdf: "PDF ë‹¤ìš´ë¡œë“œ",
      shareRecord: "ê¸°ë¡ ê³µìœ "
    },
    JAPANESE: {
      pageTitle: "è¨ºç™‚è¨˜éŒ²ãƒ»å‡¦æ–¹ç®‹",
      medicalRecords: "è¨ºç™‚è¨˜éŒ²ãƒ»å‡¦æ–¹ç®‹",
      recordsSubtitle: "å®Œå…¨ãªåŒ»ç™‚è¨˜éŒ²ã¨ç¾åœ¨ã®å‡¦æ–¹ç®‹",
      patientInfo: "æ‚£è€…æƒ…å ±",
      patientName: "æ‚£è€…å:",
      patientId: "æ‚£è€…ç•ªå·:",
      birthDate: "ç”Ÿå¹´æœˆæ—¥:",
      nationality: "å›½ç±:",
      latestVisit: "æœ€æ–°ã®è¨ºç™‚",
      hospital: "ç—…é™¢:",
      department: "è¨ºç™‚ç§‘:",
      doctor: "æ‹…å½“åŒ»:",
      internalMedicine: "å†…ç§‘",
      diagnosis: "è¨ºæ–­",
      moderate: "ä¸­ç¨‹åº¦",
      primaryDiagnosis: "ä¸»è¨ºæ–­",
      acuteGastritis: "æ€¥æ€§èƒƒç‚Ž (K29.0)",
      symptoms: "ç—‡çŠ¶",
      stomachPain: "èƒƒã®ç—›ã¿ã¨ä¸å¿«æ„Ÿ",
      nausea: "åãæ°—ã¨å˜”å",
      bloating: "è…¹éƒ¨è†¨æº€æ„Ÿ",
      lossOfAppetite: "é£Ÿæ¬²ä¸æŒ¯",
      currentPrescriptions: "ç¾åœ¨ã®å‡¦æ–¹è–¬",
      medications: "è–¬å‰¤",
      omeprazoleDosage: "æœé£Ÿå‰ã«1æ—¥1éŒ æœç”¨",
      duration14Days: "æœç”¨æœŸé–“: 14æ—¥é–“",
      domperidoneDosage: "é£Ÿå‰ã«1æ—¥3å›ž1éŒ ãšã¤æœç”¨",
      duration7Days: "æœç”¨æœŸé–“: 7æ—¥é–“",
      probioticsDosage: "é£Ÿå¾Œã«1æ—¥2å›ž1ã‚«ãƒ—ã‚»ãƒ«ãšã¤æœç”¨",
      duration30Days: "æœç”¨æœŸé–“: 30æ—¥é–“",
      doctorNotes: "åŒ»å¸«æ‰€è¦‹",
      doctorNotesContent: "æ‚£è€…ã®èƒƒè…¸ç—‡çŠ¶ã¯æ”¹å–„ã—ã¦ã„ã¾ã™ã€‚ç¾åœ¨ã®è–¬ç‰©ç™‚æ³•ã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚é£Ÿäº‹ç™‚æ³•ã®æŽ¨å¥¨ï¼šè¾›ã„é£Ÿã¹ç‰©ã€ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã€NSAIDsã‚’é¿ã‘ã‚‹ã€‚ç—‡çŠ¶ãŒæŒç¶šã™ã‚‹å ´åˆã¯2é€±é–“å¾Œã«å†è¨ºã—ã¦ãã ã•ã„ã€‚",
      nextAppointment: "æ¬¡å›žäºˆç´„",
      followUpVisit: "ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—è¨ºç™‚",
      appointmentLocation: "ã‚½ã‚¦ãƒ«å¤§å­¦ç—…é™¢ - å†…ç§‘",
      downloadPdf: "PDF ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
      shareRecord: "è¨˜éŒ²ã‚’å…±æœ‰"
    },
    CHINESE: {
      pageTitle: "åŒ»ç–—è®°å½•å’Œå¤„æ–¹",
      medicalRecords: "åŒ»ç–—è®°å½•å’Œå¤„æ–¹",
      recordsSubtitle: "å®Œæ•´çš„åŒ»ç–—è®°å½•å’Œå½“å‰å¤„æ–¹",
      patientInfo: "æ‚£è€…ä¿¡æ¯",
      patientName: "æ‚£è€…å§“å:",
      patientId: "æ‚£è€…ç¼–å·:",
      birthDate: "å‡ºç”Ÿæ—¥æœŸ:",
      nationality: "å›½ç±:",
      latestVisit: "æœ€è¿‘å°±è¯Š",
      hospital: "åŒ»é™¢:",
      department: "ç§‘å®¤:",
      doctor: "ä¸»æ²»åŒ»ç”Ÿ:",
      internalMedicine: "å†…ç§‘",
      diagnosis: "è¯Šæ–­",
      moderate: "ä¸­åº¦",
      primaryDiagnosis: "ä¸»è¦è¯Šæ–­",
      acuteGastritis: "æ€¥æ€§èƒƒç‚Ž (K29.0)",
      symptoms: "ç—‡çŠ¶",
      stomachPain: "èƒƒç—›å’Œä¸é€‚",
      nausea: "æ¶å¿ƒå’Œå‘•å",
      bloating: "è…¹èƒ€",
      lossOfAppetite: "é£Ÿæ¬²ä¸æŒ¯",
      currentPrescriptions: "å½“å‰å¤„æ–¹è¯",
      medications: "è¯ç‰©",
      omeprazoleDosage: "æ—©é¤å‰æ¯æ—¥1ç‰‡",
      duration14Days: "ç–—ç¨‹: 14å¤©",
      domperidoneDosage: "é¤å‰æ¯æ—¥3æ¬¡ï¼Œæ¯æ¬¡1ç‰‡",
      duration7Days: "ç–—ç¨‹: 7å¤©",
      probioticsDosage: "é¤åŽæ¯æ—¥2æ¬¡ï¼Œæ¯æ¬¡1ç²’",
      duration30Days: "ç–—ç¨‹: 30å¤©",
      doctorNotes: "åŒ»ç”Ÿå¤‡æ³¨",
      doctorNotesContent: "æ‚£è€…èƒƒéƒ¨ç—‡çŠ¶æœ‰æ‰€æ”¹å–„ã€‚ç»§ç»­å½“å‰è¯ç‰©æ²»ç–—æ–¹æ¡ˆã€‚å»ºè®®é¥®é£Ÿè°ƒæ•´ï¼šé¿å…è¾›è¾£é£Ÿç‰©ã€é…’ç²¾å’Œéžç”¾ä½“æŠ—ç‚Žè¯ã€‚å¦‚ç—‡çŠ¶æŒç»­ï¼Œè¯·2å‘¨åŽå¤è¯Šã€‚",
      nextAppointment: "ä¸‹æ¬¡é¢„çº¦",
      followUpVisit: "å¤è¯Š",
      appointmentLocation: "é¦–å°”å¤§å­¦åŒ»é™¢ - å†…ç§‘",
      downloadPdf: "ä¸‹è½½PDF",
      shareRecord: "åˆ†äº«è®°å½•"
    }
  };

  // Get language from URL parameter
  function getLanguageFromUrl() {
    const urlParams = new URLSearchParams(window.location.search);
    const lang = urlParams.get('lang');
    return lang && translations[lang] ? lang : 'ENGLISH';
  }

  // Apply translations
  function applyTranslations(language) {
    const translation = translations[language];
    if (!translation) return;

    // Update document title
    document.title = translation.pageTitle;

    // Update all elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
      const key = element.getAttribute('data-translate');
      if (translation[key]) {
        element.textContent = translation[key];
      }
    });

    // Update language selector
    document.getElementById('languageSelect').value = language;
  }

  // Change language function
  function changeLanguage(language) {
    const url = new URL(window.location);
    url.searchParams.set('lang', language);
    window.location.href = url.toString();
  }

  // Initialize page
  document.addEventListener('DOMContentLoaded', function() {
    const currentLanguage = getLanguageFromUrl();
    applyTranslations(currentLanguage);
  });
</script>
</body>
</html>
